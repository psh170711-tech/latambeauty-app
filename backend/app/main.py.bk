from fastapi import FastAPI

from app.db import Base, engine
from app import models
from app.routers.products import router as products_router

app = FastAPI()

# 헬스체크 엔드포인트
@app.get("/health")
def health():
    return {"status": "ok"}

# 제품 라우터 등록
app.include_router(products_router, prefix="/products", tags=["Products"])

# DB 테이블 자동 생성
Base.metadata.create_all(bind=engine)
